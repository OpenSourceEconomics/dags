---
version: 2
build:
  os: ubuntu-24.04
  tools:
    python: '3.13'
  jobs:
    create_environment:
      - asdf plugin add pixi
      - asdf install pixi latest
      - asdf global pixi latest
    install:
      - pixi install -e docs
    build:
      html:
        - pixi run -e docs docs
    post_build:
      # Jupyter Book 2.0 builds site content to _build/html.
      # For ReadTheDocs, we build and then copy to the expected output location.
      - mkdir --parents $READTHEDOCS_OUTPUT/html/
      - cp -r docs/source/_build/html/* $READTHEDOCS_OUTPUT/html/
